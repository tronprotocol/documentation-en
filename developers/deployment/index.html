
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://tronprotocol.github.io/documentation-en/developers/deployment/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Deployment - java-tron</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deployment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="java-tron" class="md-header__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            java-tron
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deployment
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="java-tron" class="md-nav__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    java-tron
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started With java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started With java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/getting_started_with_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Using java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Using java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/installing_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/backup_restore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup and Restore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/litefullnode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lite FullNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/private_network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private Network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Subscription
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/connecting_to_tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Connection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Maintenance Tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/json-rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core Protocol
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Core Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/dpos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DPoS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/sr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Super Representative
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/contract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smart Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/system-contracts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/dex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decentralized Exchange
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/multi-signatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Permission Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For java-tron Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            For java-tron Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../java-tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIPs Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../issue-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Governance Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../run-in-idea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure the IDE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For Dapp Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            For Dapp Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Clients
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Clients
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clients/wallet-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wallet-cli
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/upgrade-instruction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Manual for the New Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/signature_verification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrity Check
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="deployment">Deployment<a class="headerlink" href="#deployment" title="Permanent link">&para;</a></h1>
<h2 id="premise">Premise<a class="headerlink" href="#premise" title="Permanent link">&para;</a></h2>
<p>Create separate directories for fullnode and soliditynode</p>
<blockquote>
<p>NOTE: SolidityNode is deprecated. Now a FullNode supports all RPCs of a SolidityNode.
New developers should deploy FullNode only.</p>
</blockquote>
<div class="highlight"><pre><span></span><code>/deploy/fullnode
/deploy/soliditynode
</code></pre></div>
<p>Create two folders for fullnode and soliditynode.</p>
<p>Clone the latest master branch of <a href="https://github.com/tronprotocol/java-tron">https://github.com/tronprotocol/java-tron</a> and extract it to
<div class="highlight"><pre><span></span><code>/deploy/java-tron
</code></pre></div></p>
<p>Make sure you have the proper dependencies.</p>
<ul>
<li>JDK 1.8 (JDK 1.9+ is not supported yet)</li>
<li>On Linux Ubuntu system (e.g. Ubuntu 16.04.4 LTS), ensure that the machine has <a href="https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04"><strong>Oracle JDK 8</strong></a>, instead of having <strong>Open JDK 8</strong> in the system. If you are building the source code by using <strong>Open JDK 8</strong>, you will get <a href="https://github.com/tronprotocol/java-tron/issues/337"><strong>Build Failed</strong></a> result.</li>
<li>Open <strong>UDP</strong> ports for connection to the network</li>
<li><strong>MINIMUM</strong> 2 CPU Cores</li>
</ul>
<h2 id="deployment-guide">Deployment Guide<a class="headerlink" href="#deployment-guide" title="Permanent link">&para;</a></h2>
<p>1.&nbsp;Build the java-tron project
<div class="highlight"><pre><span></span><code>cd /deploy/java-tron
./gradlew build
</code></pre></div></p>
<p>2.&nbsp;Copy the FullNode.jar and SolidityNode.jar along with configuration files into the respective directories
<div class="highlight"><pre><span></span><code>download<span class="w"> </span>your<span class="w"> </span>needed<span class="w"> </span>configuration<span class="w"> </span>file<span class="w"> </span>from<span class="w"> </span>https://github.com/tronprotocol/java-tron/blob/develop/framework/src/main/resources/config.conf.

config.conf<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span><span class="k">for</span><span class="w"> </span>MainNet.<span class="w"> </span>To<span class="w"> </span><span class="nb">set</span><span class="w"> </span>up<span class="w"> </span>a<span class="w"> </span>testnet<span class="w"> </span>node,<span class="w"> </span>please<span class="w"> </span>modify<span class="w"> </span>the<span class="w"> </span>parameters<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>configuration<span class="w"> </span>file.

cp<span class="w"> </span>build/libs/FullNode.jar<span class="w"> </span>../fullnode

cp<span class="w"> </span>build/libs/SolidityNode.jar<span class="w"> </span>../soliditynode
</code></pre></div></p>
<p>3.&nbsp;You can now run your FullNode using the following command
<div class="highlight"><pre><span></span><code>java -jar FullNode.jar -c config.conf // make sure that your config.conf is downloaded from https://github.com/tronprotocol/TronDeployment
</code></pre></div></p>
<p>4.&nbsp;Configure the SolidityNode configuration file</p>
<p>You need to edit <code>config.conf</code> to connect to your local FullNode. Change  <code>trustNode</code> in <code>node</code> to local <code>127.0.0.1:50051</code>, which is the default rpc port. Set <code>listen.port</code> to any number within the range of 1024-65535. Please don't use any ports between 0-1024 since you'll most likely hit conflicts with other system services. Also change <code>rpc port</code> to <code>50052</code> or something to avoid conflicts. <strong>Please forward the UDP port 18888 for FullNode.</strong>
<div class="highlight"><pre><span></span><code>rpc {
      port = 50052
    }
</code></pre></div></p>
<p>5.&nbsp;You can now run your SolidityNode using the following command：
<div class="highlight"><pre><span></span><code>java -jar SolidityNode.jar -c config.conf //make sure that your config.conf is downloaded from https://github.com/tronprotocol/TronDeployment
</code></pre></div></p>
<p>6.&nbsp;Running a Super Representative Node for mainnet
<div class="highlight"><pre><span></span><code>java -jar FullNode.jar -p your private key --witness -c your config.conf(Example：/data/java-tron/config.conf)
Example:
java -jar FullNode.jar -p 650950B1...295BD812 --witness -c /data/java-tron/config.conf
</code></pre></div></p>
<p>This is similar to running a private testnet, except that the IPs in the <code>config.conf</code> are officially declared by TRON.</p>
<p>7.&nbsp;Running a Super Representative Node for private testnet</p>
<p>You should modify the config.conf:</p>
<ul>
<li>Replace existing entry in genesis.block.witnesses with your address</li>
<li>Replace existing entry in seed.node ip.list with your ip list</li>
<li>The first Super Node start, needSyncCheck should be set false</li>
<li>Set p2pversion to 61</li>
</ul>
<div class="highlight"><pre><span></span><code>cd build/libs
java -jar FullNode.jar -p your private key --witness -c your config.conf (Example：/data/java-tron/config.conf)
Example:
java -jar FullNode.jar -p 650950B1...295BD812 --witness -c /data/java-tron/config.conf
</code></pre></div>
<h2 id="logging-and-network-connection-verification">Logging and Network Connection Verification<a class="headerlink" href="#logging-and-network-connection-verification" title="Permanent link">&para;</a></h2>
<p>Logs for both nodes are located in <code>/deploy/\*/logs/tron.log</code>. Use <code>tail -f /logs/tron.log/</code> to follow along with the block syncing.</p>
<p>You should see something similar to this in your logs for block synchronization:</p>
<p><strong>FullNode</strong>
<div class="highlight"><pre><span></span><code>12:00:57.658 INFO  [pool-7-thread-1] [o.t.c.n.n.NodeImpl](NodeImpl.java:830) Success handle block Num:236610,ID:0000000000039c427569efa27cc2493c1fff243cc1515aa6665c617c45d2e1bf
</code></pre></div>
<strong>SolidityNode</strong>
<div class="highlight"><pre><span></span><code>12:00:40.691 INFO  [pool-17-thread-1] [o.t.p.SolidityNode](SolidityNode.java:88) sync solidity block, lastSolidityBlockNum:209671, remoteLastSolidityBlockNum:211823
</code></pre></div></p>
<h2 id="stop-node-gracefully">Stop Node Gracefully<a class="headerlink" href="#stop-node-gracefully" title="Permanent link">&para;</a></h2>
<p>Create file stop.sh，use kill -15 to close FullNode.jar(or SolidityNode.jar).
You need to modify pid=<code>ps -ef |grep FullNode.jar |grep -v grep |awk '{print $2}'</code> to find the correct pid.
<div class="highlight"><pre><span></span><code>#!/bin/bash
while true; do
  pid=`ps -ef |grep FullNode.jar |grep -v grep |awk &#39;{print $2}&#39;`
  if [ -n &quot;$pid&quot; ]; then
    kill -15 $pid
    echo &quot;The java-tron process is exiting, it may take some time, forcing the exit may cause damage to the database, please wait patiently...&quot;
    sleep 1
  else
    echo &quot;java-tron killed successfully!&quot;
    break
  fi
done
</code></pre></div></p>
<h2 id="fullnode-and-soliditynode-fast-deployment">FullNode and SolidityNode Fast Deployment<a class="headerlink" href="#fullnode-and-soliditynode-fast-deployment" title="Permanent link">&para;</a></h2>
<p>Download fast deployment script, run the script according to different types of node.</p>
<h3>Scope of use</h3>

<p>This script could be used on Linux/MacOS, but not on Windows.
Just Support FullNode and SolidityNode.</p>
<h3>Download and run script</h3>

<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://raw.githubusercontent.com/tronprotocol/TronDeployment/master/deploy_tron.sh<span class="w"> </span>-O<span class="w"> </span>deploy_tron.sh
</code></pre></div>
<h3>Parameter Illustration</h3>

<div class="highlight"><pre><span></span><code>bash<span class="w"> </span>deploy_tron.sh<span class="w"> </span>--app<span class="w"> </span><span class="o">[</span>FullNode<span class="p">|</span>SolidityNode<span class="o">]</span><span class="w"> </span>--net<span class="w"> </span><span class="o">[</span>mainnet<span class="p">|</span>testnet<span class="p">|</span>privatenet<span class="o">]</span><span class="w"> </span>--db<span class="w"> </span><span class="o">[</span>keep<span class="p">|</span>remove<span class="p">|</span>backup<span class="o">]</span><span class="w"> </span>--heap-size<span class="w"> </span>&lt;heapsize&gt;

--app<span class="w"> </span>Optional,<span class="w"> </span>Running<span class="w"> </span>application.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>node<span class="w"> </span>is<span class="w"> </span>Fullnode<span class="w"> </span>and<span class="w"> </span>it<span class="w"> </span>could<span class="w"> </span>be<span class="w"> </span>FullNode<span class="w"> </span>or<span class="w"> </span>SolidityNode.
--net<span class="w"> </span>Optional,<span class="w"> </span>Connecting<span class="w"> </span>network.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>network<span class="w"> </span>is<span class="w"> </span>mainnet<span class="w"> </span>and<span class="w"> </span>it<span class="w"> </span>could<span class="w"> </span>be<span class="w"> </span>mainnet,<span class="w"> </span>testnet.
--db<span class="w">  </span>Optional,<span class="w"> </span>The<span class="w"> </span>way<span class="w"> </span>of<span class="w"> </span>data<span class="w"> </span>processing<span class="w"> </span>could<span class="w"> </span>be<span class="w"> </span>keep,<span class="w"> </span>remove<span class="w"> </span>and<span class="w"> </span>backup.<span class="w"> </span>Default<span class="w"> </span>is<span class="w"> </span>keep.<span class="w"> </span>If<span class="w"> </span>you<span class="w"> </span>launch<span class="w"> </span>two<span class="w"> </span>different<span class="w"> </span>networks,<span class="w"> </span>like<span class="w"> </span>from<span class="w"> </span>mainnet<span class="w"> </span>to<span class="w"> </span>testnet<span class="w"> </span>or<span class="w"> </span>from<span class="w"> </span>testnet<span class="w"> </span>to<span class="w"> </span>mainnet,<span class="w"> </span>you<span class="w"> </span>need<span class="w"> </span>to<span class="w"> </span>delete<span class="w"> </span>database.
--trust-node<span class="w">  </span>Optional,<span class="w"> </span>It<span class="w"> </span>only<span class="w"> </span>works<span class="w"> </span>when<span class="w"> </span>deploying<span class="w"> </span>SolidityNode.<span class="w"> </span>Default<span class="w"> </span>is<span class="w"> </span><span class="m">127</span>.0.0.1:50051.<span class="w"> </span>The<span class="w"> </span>specified<span class="w"> </span>gRPC<span class="w"> </span>service<span class="w"> </span>of<span class="w"> </span>Fullnode,<span class="w"> </span>like<span class="w"> </span><span class="m">127</span>.0.0.1:50051<span class="w"> </span>or<span class="w"> </span><span class="m">13</span>.125.249.129:50051.
--rpc-port<span class="w">  </span>Optional,<span class="w"> </span>Port<span class="w"> </span>of<span class="w"> </span>grpc.<span class="w"> </span>Default<span class="w"> </span>is<span class="w"> </span><span class="m">50051</span>.<span class="w"> </span>If<span class="w"> </span>you<span class="w"> </span>deploy<span class="w"> </span>SolidityNode<span class="w"> </span>and<span class="w"> </span>FullNode<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>host，you<span class="w"> </span>need<span class="w"> </span>to<span class="w"> </span>configure<span class="w"> </span>different<span class="w"> </span>ports.
--commit<span class="w">  </span>Optional,<span class="w"> </span>commitid<span class="w"> </span>of<span class="w"> </span>project.
--branch<span class="w">  </span>Optional,<span class="w"> </span>branch<span class="w"> </span>of<span class="w"> </span>project.<span class="w">  </span>Mainnet<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span>latest<span class="w"> </span>release<span class="w"> </span>and<span class="w"> </span>Testnet<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span>master.
--heap-size<span class="w">  </span>Optional,<span class="w"> </span>jvm<span class="w"> </span>option:<span class="w"> </span>Xmx.<span class="w"> </span>The<span class="w"> </span>default<span class="w"> </span>heap-size<span class="w"> </span>is<span class="w"> </span><span class="m">0</span>.8<span class="w"> </span>*<span class="w"> </span>memory<span class="w"> </span>size.
--work_space<span class="w">  </span>Optional,<span class="w"> </span>default<span class="w"> </span>is<span class="w"> </span>current<span class="w"> </span>directory.
</code></pre></div>
<h3> Deployment of FullNode on the one host </h3>

<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://raw.githubusercontent.com/tronprotocol/TronDeployment/master/deploy_tron.sh<span class="w"> </span>-O<span class="w"> </span>deploy_tron.sh
bash<span class="w"> </span>deploy_tron.sh
</code></pre></div>
<h3> Deployment of SolidityNode on the one host </h3>

<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://raw.githubusercontent.com/tronprotocol/TronDeployment/master/deploy_tron.sh<span class="w"> </span>-O<span class="w"> </span>deploy_tron.sh
<span class="c1"># User can self-configure the IP and Port of GRPC service in the trust-node field of SolidityNode. trust-node is the fullnode you just deploy.</span>
bash<span class="w"> </span>deploy_tron.sh<span class="w"> </span>--app<span class="w"> </span>SolidityNode<span class="w"> </span>--trust-node<span class="w"> </span>&lt;grpc-ip:grpc-port&gt;
</code></pre></div>
<h3> Deployment of FullNode and SolidityNode on the same host </h3>

<div class="highlight"><pre><span></span><code><span class="c1"># You need to configure different gRPC ports on the same host because gRPC port is available on SolidityNode and FullNodeConfigure and it cannot be set as default value 50051. In this case the default value of rpc port is set as 50041.</span>
wget<span class="w"> </span>https://raw.githubusercontent.com/tronprotocol/TronDeployment/master/deploy_tron.sh<span class="w"> </span>-O<span class="w"> </span>deploy_tron.sh
bash<span class="w"> </span>deploy_tron.sh<span class="w"> </span>--app<span class="w"> </span>FullNode
bash<span class="w"> </span>deploy_tron.sh<span class="w"> </span>--app<span class="w"> </span>SolidityNode<span class="w"> </span>--rpc-port<span class="w"> </span><span class="m">50041</span>
</code></pre></div>
<h2 id="grpc-gateway-deployment">Grpc Gateway Deployment<a class="headerlink" href="#grpc-gateway-deployment" title="Permanent link">&para;</a></h2>
<h3> Summary </h3>

<p>This script helps you download the code from https://github.com/tronprotocol/grpc-gateway and deploy the code on your environment.</p>
<h3> Pre-requests </h3>

<p>Please follow the guide on https://github.com/tronprotocol/grpc-gateway
Install Golang, Protoc, and set $GOPATH environment variable according to your requirement.</p>
<h3> Download and run script </h3>

<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>https://raw.githubusercontent.com/tronprotocol/TronDeployment/master/deploy_grpc_gateway.sh<span class="w"> </span>-O<span class="w"> </span>deploy_grpc_gateway.sh
</code></pre></div>
<h3> Parameter Illustration </h3>

<div class="highlight"><pre><span></span><code>bash<span class="w"> </span>deploy_grpc_gateway.sh<span class="w"> </span>--rpchost<span class="w"> </span><span class="o">[</span>rpc<span class="w"> </span>host<span class="w"> </span>ip<span class="o">]</span><span class="w"> </span>--rpcport<span class="w"> </span><span class="o">[</span>rpc<span class="w"> </span>port<span class="w"> </span>number<span class="o">]</span><span class="w"> </span>--httpport<span class="w"> </span><span class="o">[</span>http<span class="w"> </span>port<span class="w"> </span>number<span class="o">]</span>

--rpchost<span class="w"> </span>The<span class="w"> </span>fullnode<span class="w"> </span>or<span class="w"> </span>soliditynode<span class="w"> </span>IP<span class="w"> </span>where<span class="w"> </span>the<span class="w"> </span>grpc<span class="w"> </span>service<span class="w"> </span>is<span class="w"> </span>provided.<span class="w"> </span>Default<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span><span class="s2">&quot;localhost&quot;</span>.
--rpcport<span class="w"> </span>The<span class="w"> </span>fullnode<span class="w"> </span>or<span class="w"> </span>soliditynode<span class="w"> </span>port<span class="w"> </span>number<span class="w"> </span>grpc<span class="w"> </span>service<span class="w"> </span>is<span class="w"> </span>consuming.<span class="w"> </span>Default<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span><span class="m">50051</span>.
--httpport<span class="w"> </span>The<span class="w"> </span>port<span class="w"> </span>intends<span class="w"> </span>to<span class="w"> </span>provide<span class="w"> </span>http<span class="w"> </span>service<span class="w"> </span>provided<span class="w"> </span>by<span class="w"> </span>grpc<span class="w"> </span>gateway.<span class="w"> </span>Default<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span><span class="m">18890</span>.
</code></pre></div>
<h3> Example </h3>

<p>Use default configuration：
<div class="highlight"><pre><span></span><code>bash<span class="w"> </span>deploy_grpc_gateway.sh
</code></pre></div>
Use customized configuration：
<div class="highlight"><pre><span></span><code>bash<span class="w"> </span>deploy_grpc_gateway.sh<span class="w"> </span>--rpchost<span class="w"> </span><span class="m">127</span>.0.0.1<span class="w"> </span>--rpcport<span class="w"> </span><span class="m">50052</span><span class="w"> </span>--httpport<span class="w"> </span><span class="m">18891</span>
</code></pre></div></p>
<h2 id="event-subscribe-plugin-deployment">Event Subscribe plugin Deployment<a class="headerlink" href="#event-subscribe-plugin-deployment" title="Permanent link">&para;</a></h2>
<p>This is an implementation of TRON eventsubscribe model.</p>
<ul>
<li><strong>api</strong> module defines IPluginEventListener, a protocol between java-tron and event plugin.</li>
<li><strong>app</strong> module is an example for loading plugin, developers could use it for debugging.</li>
<li><strong>kafkaplugin</strong> module is the implementation for kafka, it implements IPluginEventListener, it receives events subscribed from java-tron and relay events to kafka server.</li>
<li><strong>mongodbplugin</strong> mongodbplugin module is the implementation for mongodb.</li>
</ul>
<h3> Setup/Build </h3>

<ol>
<li>Clone the repo <code>git clone https://github.com/tronprotocol/event-plugin.git</code></li>
<li>Go to eventplugin <code>cd event-plugin</code></li>
<li>
<p>run <code>./gradlew build</code></p>
</li>
<li>
<p>This will produce one plugin zip, named <code>plugin-kafka-1.0.0.zip</code>, located in the <code>event-plugin/build/plugins/</code> directory.</p>
</li>
</ol>
<h3> Edit **config.conf** of java-tron， add the following fields:</h3>

<p><div class="highlight"><pre><span></span><code>event.subscribe = {
    path = &quot;&quot; // absolute path of plugin
    server = &quot;&quot; // target server address to receive event triggers
    dbconfig=&quot;&quot; // dbname|username|password
    topics = [
        {
          triggerName = &quot;block&quot; // block trigger, the value can&#39;t be modified
          enable = false
          topic = &quot;block&quot; // plugin topic, the value could be modified
        },
        {
          triggerName = &quot;transaction&quot;
          enable = false
          topic = &quot;transaction&quot;
        },
        {
          triggerName = &quot;contractevent&quot;
          enable = true
          topic = &quot;contractevent&quot;
        },
        {
          triggerName = &quot;contractlog&quot;
          enable = true
          topic = &quot;contractlog&quot;
        }
    ]

    filter = {
       fromblock = &quot;&quot; // the value could be &quot;&quot;, &quot;earliest&quot; or a specified block number as the beginning of the queried range
       toblock = &quot;&quot; // the value could be &quot;&quot;, &quot;latest&quot; or a specified block number as end of the queried range
       contractAddress = [
           &quot;&quot; // contract address you want to subscribe, if it&#39;s set to &quot;&quot;, you will receive contract logs/events with any contract address.
       ]

       contractTopic = [
           &quot;&quot; // contract topic you want to subscribe, if it&#39;s set to &quot;&quot;, you will receive contract logs/events with any contract topic.
       ]
    }
}
</code></pre></div>
 * <strong>path</strong>: is the absolute path of "plugin-kafka-1.0.0.zip"
 * <strong>server</strong>: Kafka server address
 * <strong>topics</strong>: each event type maps to one Kafka topic, we support four event types subscribing, block, transaction, contractlog and contractevent.
 * <strong>dbconfig</strong>: db configuration information for mongodb, if using kafka, delete this one; if using Mongodb, add like that dbname|username|password
 * <strong>triggerName</strong>: the trigger type, the value can't be modified.
 * <strong>enable</strong>: plugin can receive nothing if the value is false.
 * <strong>topic</strong>: the value is the kafka topic to receive events. Make sure it has been created and Kafka process is running
 * <strong>filter</strong>: filter condition for process trigger.
 <strong>note</strong>: if the server is not 127.0.0.1, pls set some properties in config/server.properties file
           remove comment and set listeners=PLAINTEXT://:9092
           remove comment and set advertised.listeners to PLAINTEXT://host_ip:9092</p>
<h3 id="kafka"> Install Kafka </h3>

<p><strong>On Mac</strong>:
<div class="highlight"><pre><span></span><code>brew install kafka
</code></pre></div></p>
<p><strong>On Linux</strong>:
<div class="highlight"><pre><span></span><code>cd /usr/local
wget http://archive.apache.org/dist/kafka/0.10.2.2/kafka_2.10-0.10.2.2.tgz
tar -xzvf kafka_2.10-0.10.2.2.tgz
mv kafka_2.10-0.10.2.2 kafka

add &quot;export PATH=$PATH:/usr/local/kafka/bin&quot; to end of /etc/profile
source /etc/profile


kafka-server-start.sh /usr/local/kafka/config/server.properties &amp;
</code></pre></div>
<strong>Note</strong>: make sure the version of Kafka is the same as the version set in build.gradle of eventplugin project.(kafka_2.10-0.10.2.2 kafka)</p>
<h3> Run Kafka </h3>

<p><strong>On Mac</strong>:
<div class="highlight"><pre><span></span><code>zookeeper-server-start /usr/local/etc/kafka/zookeeper.properties &amp; kafka-server-start /usr/local/etc/kafka/server.properties
</code></pre></div></p>
<p><strong>On Linux</strong>:
<div class="highlight"><pre><span></span><code>zookeeper-server-start.sh /usr/local/kafka/config/zookeeper.properties &amp;
Sleep about 3 seconds
kafka-server-start.sh /usr/local/kafka/config/server.properties &amp;
</code></pre></div></p>
<h3> Create topics to receive events, the topic is defined in config.conf </h3>

<p><strong>On Mac</strong>:
<div class="highlight"><pre><span></span><code>kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic block
kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic transaction
kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic contractlog
kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic contractevent
</code></pre></div></p>
<p><strong>On Linux</strong>:
<div class="highlight"><pre><span></span><code>kafka-topics.sh  --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic block
kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic transaction
kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic contractlog
kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic contractevent
</code></pre></div></p>
<h3> Kafka consumer </h3>

<p><strong>On Mac</strong>:
<div class="highlight"><pre><span></span><code>kafka-console-consumer --bootstrap-server localhost:9092  --topic block
kafka-console-consumer --bootstrap-server localhost:9092  --topic transaction
kafka-console-consumer --bootstrap-server localhost:9092  --topic contractlog
kafka-console-consumer --bootstrap-server localhost:9092  --topic contractevent
</code></pre></div></p>
<p><strong>On Linux</strong>:
<div class="highlight"><pre><span></span><code>kafka-console-consumer.sh --zookeeper localhost:2181 --topic block
kafka-console-consumer.sh --zookeeper localhost:2181 --topic transaction
kafka-console-consumer.sh --zookeeper localhost:2181 --topic contractlog
kafka-console-consumer.sh --zookeeper localhost:2181 --topic contractevent
</code></pre></div></p>
<h3> Load plugin in java-tron </h3>

<ul>
<li>add --es to command line, for example:
<div class="highlight"><pre><span></span><code> java -jar FullNode.jar -p privatekey -c config.conf --es
</code></pre></div></li>
</ul>
<h3> Event filter </h3>

<p>which is defined in config.conf, path: event.subscribe
<div class="highlight"><pre><span></span><code>filter = {
       fromblock = &quot;&quot; // the value could be &quot;&quot;, &quot;earliest&quot; or a specified block number as the beginning of the queried range
       toblock = &quot;&quot; // the value could be &quot;&quot;, &quot;latest&quot; or a specified block number as end of the queried range
       contractAddress = [
           &quot;TVkNuE1BYxECWq85d8UR9zsv6WppBns9iH&quot; // contract address you want to subscribe, if it&#39;s set to &quot;&quot;, you will receive contract logs/events with any contract address.
       ]

       contractTopic = [
           &quot;f0f1e23ddce8a520eaa7502e02fa767cb24152e9a86a4bf02529637c4e57504b&quot; // contract topic you want to subscribe, if it&#39;s set to &quot;&quot;, you will receive contract logs/events with any contract topic.
       ]
    }
</code></pre></div></p>
<h3 id="mongo"> Download and install MongoDB </h3>

<p>** Suggested Configuration **</p>
<ul>
<li>CPU/ RAM: 16Core / 32G</li>
<li>DISK: 500G</li>
<li>System: CentOS 64</li>
</ul>
<p>The version of MongoDB is <strong>4.0.4</strong>, below is the command:</p>
<ul>
<li>cd /home/java-tron</li>
<li>curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.4.tgz</li>
<li>tar zxvf mongodb-linux-x86_64-4.0.4.tgz</li>
<li>mv mongodb-linux-x86_64-4.0.4 mongodb</li>
</ul>
<p>** Set environment **
- export MONGOPATH=/home/java-tron/mongodb/
- export PATH=<span class="arithmatex"><span class="MathJax_Preview">PATH:</span><script type="math/tex">PATH:</script></span>MONGOPATH/bin</p>
<p>** Create mongodb config **
The path is : /etc/mongodb/mgdb.conf</p>
<ul>
<li>cd /etc/mongodb</li>
<li>touch mgdb.conf</li>
</ul>
<p>Create data&amp;log folder for mongodb
Create data, log subfolder in mongodb directory,  and add their absolute path to mgdb.conf</p>
<p>** Example: **</p>
<ul>
<li>dbpath=/home/java-tron/mongodb/data</li>
<li>logpath=/home/java-tron/mongodb/log/mongodb.log</li>
<li>port=27017</li>
<li>logappend=true</li>
<li>fork=true</li>
<li>bind_ip=0.0.0.0</li>
<li>auth=true</li>
<li>wiredTigerCacheSizeGB=2</li>
</ul>
<p>** Note: **
- bind_ip must be configured to 0.0.0.0，otherwise remote connection will be refused.
- wiredTigerCacheSizeGB, must be configured to prevent OOM</p>
<p>** Launch MongoDB **
  - mongod  --config /etc/mongodb/mgdb.conf</p>
<p>** Create admin account: **
- mongo
- use admin
- db.createUser({user:"root",pwd:"admin",roles:[{role:"root",db:"admin"}]})</p>
<p>** Create eventlog and its owner account **</p>
<ul>
<li>db.auth("root", "admin")</li>
<li>use eventlog</li>
<li>db.createUser({user:"tron",pwd:"123456",roles:[{role:"dbOwner",db:"eventlog"}]})</li>
</ul>
<blockquote>
<p>database: eventlog, username:tron, password: 123456</p>
</blockquote>
<p>** Firewall rule: **
- iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 27017 -j ACCEPT</p>
<p>** Remote connection via mongo: **</p>
<ul>
<li>mongo 47.90.245.68:27017</li>
<li>use eventlog</li>
<li>db.auth("tron", "123456")</li>
<li>show collections</li>
<li>db.block.find()</li>
</ul>
<p>** Query block trigger data: **</p>
<ul>
<li>db.block.find({blockNumber: {$lt: 1000}});  // return records whose blockNumber less than1000</li>
</ul>
<p>** Set database index to speedup query: **</p>
<p>cd /{projectPath}
sh insertIndex.sh</p>
<h2 id="event-query-service-deployment">Event query service deployment<a class="headerlink" href="#event-query-service-deployment" title="Permanent link">&para;</a></h2>
<h3>Download sourcecode</h3>

<p>Download sourcecode</p>
<p>git clone https://github.com/tronprotocol/tron-eventquery.git
cd troneventquery</p>
<h3> Build </h3>

<ul>
<li>mvn package</li>
</ul>
<p>After the build command is executed successfully, troneventquery jar to release will be generated under troneventquery/target directory.</p>
<p>Configuration of mongodb "config.conf" should be created for storing mongodb configuration, such as database name, username, password, and so on. We provided an example in sourcecode, which is " troneventquery/config.conf ". Replace with your specified configuration if needed.</p>
<p><strong>Note</strong>:</p>
<p>Make sure the relative path of config.conf and troneventquery jar. The config.conf 's path is the parent of troneventquery jar.</p>
<ul>
<li>mongo.host=IP</li>
<li>mongo.port=27017</li>
<li>mongo.dbname=eventlog</li>
<li>mongo.username=tron</li>
<li>mongo.password=123456</li>
<li>mongo.connectionsPerHost=8</li>
<li>mongo.threadsAllowedToBlockForConnectionMultiplier=4</li>
</ul>
<p>Any configuration could be modified except <strong>mongo.dbname</strong>, "<strong>eventlog</strong>" is the specified database name for event subscribe.</p>
<h3> Run </h3>

<ul>
<li>troneventquery/deploy.sh is used to deploy troneventquery</li>
<li>troneventquery/insertIndex.sh is used to setup mongodb index to speedup query.</li>
</ul>
<h2 id="advanced-configurations">Advanced Configurations<a class="headerlink" href="#advanced-configurations" title="Permanent link">&para;</a></h2>
<p>Read the <a href="../advanced-configuration/">Advanced Configuration</a></p>












		  <hr class="content-footer-divider">  <!-- 添加的水平线 -->
      	    	  <footer class="md-footer">
  
    
  
  <!--div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div-->
</footer>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.footer", "toc.integrate", "search.highlight", "search.suggest", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/toc.js"></script>
      
        <script src="../../javascripts/nav-toc.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>