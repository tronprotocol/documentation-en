
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://tronprotocol.github.io/documentation-en/mechanism-algorithm/resource/">
      
      
        <link rel="prev" href="../account/">
      
      
        <link rel="next" href="../../contracts/contract/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Resource Model - java-tron</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#resource-model" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="java-tron" class="md-header__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            java-tron
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Resource Model
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="java-tron" class="md-nav__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    java-tron
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started With java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started With java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/getting_started_with_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Using java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Using java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/installing_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/backup_restore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup and Restore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/litefullnode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lite FullNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/private_network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private Network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Subscription
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/connecting_to_tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Connection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../using_javatron/toolkit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Maintenance Tool
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/json-rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core Protocol
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Core Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dpos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DPoS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Super Representative
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Resource Model
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Resource Model
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item ">
  <a href="#introduction-to-the-resource-model" class="md-nav__link" >
    <span class="md-ellipsis">
      Introduction to the Resource Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item ">
  <a href="#tron-power-tp" class="md-nav__link" >
    <span class="md-ellipsis">
      TRON Power (TP)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#bandwidth" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Bandwidth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bandwidth" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#obtaining-bandwidth" class="md-nav__link" >
    <span class="md-ellipsis">
      Obtaining Bandwidth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-bandwidth-is-consumed" class="md-nav__link" >
    <span class="md-ellipsis">
      How Bandwidth is Consumed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#automatic-bandwidth-recovery" class="md-nav__link" >
    <span class="md-ellipsis">
      Automatic Bandwidth Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#querying-bandwidth-balance" class="md-nav__link" >
    <span class="md-ellipsis">
      Querying Bandwidth Balance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#energy" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Energy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Energy" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#acquiring-and-consuming-energy" class="md-nav__link" >
    <span class="md-ellipsis">
      Acquiring and Consuming Energy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-to-set-fee_limit-essential-for-users" class="md-nav__link" >
    <span class="md-ellipsis">
      How to Set fee_limit (Essential for Users)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#energy-consumption-mechanism" class="md-nav__link" >
    <span class="md-ellipsis">
      Energy Consumption Mechanism
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#dynamic-energy-model" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Dynamic Energy Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dynamic Energy Model" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#how-it-works" class="md-nav__link" >
    <span class="md-ellipsis">
      How It Works
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#staking-on-tron" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Staking on TRON
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Staking on TRON" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#how-to-stake-for-system-resources" class="md-nav__link" >
    <span class="md-ellipsis">
      How to Stake for System Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-to-delegate-resources" class="md-nav__link" >
    <span class="md-ellipsis">
      How to Delegate Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-to-unstake" class="md-nav__link" >
    <span class="md-ellipsis">
      How to Unstake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#how-to-cancel-all-unstaking-requests" class="md-nav__link" >
    <span class="md-ellipsis">
      How to Cancel All Unstaking Requests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#relevant-api-endpoints" class="md-nav__link" >
    <span class="md-ellipsis">
      Relevant API Endpoints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/contract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smart Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system-contracts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decentralized Exchange
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi-signatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Permission Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For java-tron Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            For java-tron Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/java-tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIPs Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/issue-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Governance Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/run-in-idea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure the IDE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/code-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For Dapp Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            For Dapp Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Clients
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Clients
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clients/wallet-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wallet-cli
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/upgrade-instruction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Manual for the New Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/signature_verification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrity Check
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="resource-model">Resource Model<a class="headerlink" href="#resource-model" title="Permanent link">&para;</a></h1>
<h2 id="introduction-to-the-resource-model">Introduction to the Resource Model<a class="headerlink" href="#introduction-to-the-resource-model" title="Permanent link">&para;</a></h2>
<p>The TRON network's core system resources consist of three components: TRON Power (TP), Bandwidth, and Energy. Their definitions and functions are as follows:</p>
<ul>
<li><strong>TRON Power (TP):</strong> Used exclusively for voting for Super Representatives (SRs) and Super Representative Partners. It serves as the credential for users to participate in network governance and is obtained by staking TRX.</li>
<li><strong>Bandwidth:</strong> Measures the byte size of a transaction on the blockchain. Every type of transaction, from a simple transfer to a contract interaction, must consume Bandwidth.</li>
<li><strong>Energy:</strong> Measures the computational resources consumed by the TRON Virtual Machine (TVM) to execute a smart contract. It can be understood as a "CPU processing fee." Energy is only consumed when deploying or triggering a smart contract.</li>
</ul>
<h2 id="tron-power-tp">TRON Power (TP)<a class="headerlink" href="#tron-power-tp" title="Permanent link">&para;</a></h2>
<p>Before voting for Super Representatives, an account must first acquire TRON Power (TP).</p>
<ul>
<li><strong>How to Obtain:</strong> When you stake TRX for either Bandwidth or Energy, you simultaneously receive an equivalent amount of TRON Power. This is the only way to get TP. For staking instructions, refer to the <a href="#staking-on-tron">Staking on TRON</a> section.</li>
<li><strong>Conversion Ratio:</strong> The staking-to-TP ratio is 1:1. Staking 1 TRX grants you 1 TP.</li>
<li><strong>Accumulation:</strong> You can stake TRX in multiple, separate transactions. The TP acquired from all stakes is automatically added to your account's total TP pool.</li>
<li><strong>Querying:</strong> You can check your account's total and used TP at any time using the <code>wallet/getaccountresource</code> API endpoint.</li>
</ul>
<h2 id="bandwidth">Bandwidth<a class="headerlink" href="#bandwidth" title="Permanent link">&para;</a></h2>
<p>Transactions are transmitted and stored on the network as byte arrays. The Bandwidth consumed by a transaction is calculated as <code>Transaction Size (bytes) * Bandwidth Rate</code>. The current Bandwidth rate is 1.</p>
<p>For example, a transaction with a size of 200 bytes will consume 200 Bandwidth.</p>
<blockquote>
<p><strong>Note:</strong> Because the total staked funds in the network and an individual account's staked funds can change at any time, the amount of Bandwidth an account possesses is not a fixed value.</p>
</blockquote>
<h3 id="obtaining-bandwidth">Obtaining Bandwidth<a class="headerlink" href="#obtaining-bandwidth" title="Permanent link">&para;</a></h3>
<p>There are three ways to obtain Bandwidth:</p>
<ul>
<li>
<p><strong>Staking TRX:</strong> Users share a fixed total Bandwidth pool in proportion to the amount of TRX they have staked for Bandwidth.</p>
<div class="highlight"><pre><span></span><code>Bandwidth Share = (TRX Staked for Bandwidth / Total TRX Staked for Bandwidth Network-Wide) * Total Bandwidth Limit
</code></pre></div>
<p><strong>Total Bandwidth</strong> is a network parameter that can be modified through a committee proposal (<a href="https://tronscan.io/#/sr/committee">#62</a>) and is currently set to 43,200,000,000.</p>
<p>Staking for Bandwidth (<code>wallet-cli</code> example):</p>
<div class="highlight"><pre><span></span><code>freezeBalanceV2 frozen_balance [ResourceCode:0 BANDWIDTH,1 ENERGY]
</code></pre></div>
</li>
<li>
<p><strong>Delegation from Others:</strong>
    Another account can delegate their Bandwidth to you. </p>
<p>Delegating Bandwidth (<code>wallet-cli</code> example):</p>
<div class="highlight"><pre><span></span><code>delegateResource [OwnerAddress] balance ResourceCode(0 BANDWIDTH,1 ENERGY), ReceiverAddress [lock]
</code></pre></div>
</li>
<li>
<p><strong>Daily Free Allowance:</strong> Every account receives a fixed daily allowance of free Bandwidth, which can be modified through a committee proposal <a href="https://tronscan.io/#/sr/committee">#61</a> and is currently set to 600.</p>
</li>
</ul>
<h3 id="how-bandwidth-is-consumed">How Bandwidth is Consumed<a class="headerlink" href="#how-bandwidth-is-consumed" title="Permanent link">&para;</a></h3>
<p>All transactions, except for query operations, consume Bandwidth. When you initiate a transaction, the system deducts the Bandwidth fee according to a strict priority order based on the transaction type.</p>
<p><strong>Scenario 1: Standard Transactions</strong></p>
<p>The system attempts to pay the Bandwidth fee in the following order:</p>
<ol>
<li><strong>Staked Bandwidth:</strong> Consumes the Bandwidth obtained by the transaction initiator from staking TRX.</li>
<li><strong>Free Bandwidth:</strong> If staked Bandwidth is insufficient, consumes the initiator's 600 daily free allowance.</li>
<li><strong>TRX Burning:</strong> If both staked and free Bandwidth are insufficient, burns the initiator's TRX to cover the fee.<ul>
<li><em>Burn Fee = Transaction Size (bytes) × 1,000 sun</em></li>
</ul>
</li>
</ol>
<p><strong>Scenario 2: New Account Creation Transactions</strong></p>
<p>Transactions that create a new account follow a special rule and do not use the daily free allowance:</p>
<ol>
<li><strong>Staked Bandwidth:</strong> First, attempts to consume the Bandwidth obtained by the transaction initiator from staking TRX.</li>
<li><strong>TRX Burning:</strong> If staked Bandwidth is insufficient, directly burns 0.1 TRX to complete the account creation.</li>
</ol>
<p><strong>Scenario 3: TRC-10 Token Transfers</strong></p>
<p>TRC-10 token transfers have a unique consumption logic that introduces the "token issuer" as a potential fee payer:</p>
<ol>
<li><strong>Issuer's Bandwidth (Highest Priority):</strong> The system first attempts to consume the Bandwidth prepaid by the token issuer. This requires all three of the following conditions to be met (only if all three checks pass will the issuer's Bandwidth be deducted; otherwise, the cost falls to the transaction initiator):<ul>
<li>The token issuer has a sufficient total free Bandwidth allowance.<ul>
<li>Query Method: <a href="https://developers.tron.network/reference/getassetissuebyaccount">/wallet/getassetissuebyaccount</a></li>
<li>Formula: <code>public_free_asset_net_limit - public_free_asset_net_usage</code></li>
<li>Description: The remaining quota the token issuer can pay for this token's transfers.</li>
</ul>
</li>
<li>The transaction initiator has a sufficient Bandwidth allowance for that specific token.<ul>
<li>Query Method: <a href="https://developers.tron.network/reference/getaccountnet">/wallet/getaccountnet</a> </li>
<li>Formula: <code>assetNetLimit['assetID'] - assetNetUsed['assetID']</code></li>
<li>Description: The free Bandwidth quota provided by the issuer that the token holder can still use.</li>
</ul>
</li>
<li>The token issuer has sufficient staked Bandwidth. <ul>
<li>Query Method: <a href="https://developers.tron.network/reference/getaccountnet">/wallet/getaccountnet</a></li>
<li>Formula: <code>NetLimit - NetUsed</code></li>
<li>Description: The amount of available Bandwidth the issuer has obtained through staking.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Initiator's Staked Bandwidth:</strong> Attempts to consume the initiator's staked Bandwidth.</li>
<li><strong>Initiator's Free Bandwidth:</strong> If staked Bandwidth is insufficient, consumes the initiator's free Bandwidth allowance.</li>
<li><strong>TRX Burning:</strong> If all the above resources are insufficient, burns the initiator's TRX to pay the fee.<ul>
<li><em>Burn Fee = Transaction Size (bytes) × 1,000 sun</em></li>
</ul>
</li>
</ol>
<h3 id="automatic-bandwidth-recovery">Automatic Bandwidth Recovery<a class="headerlink" href="#automatic-bandwidth-recovery" title="Permanent link">&para;</a></h3>
<p>An account's consumed free Bandwidth and staked Bandwidth will gradually recover over a 24-hour period.</p>
<h3 id="querying-bandwidth-balance">Querying Bandwidth Balance<a class="headerlink" href="#querying-bandwidth-balance" title="Permanent link">&para;</a></h3>
<p>You can query an account's current resource status by calling the <code>wallet/getaccountresource</code> HTTP endpoint. In the returned JSON data, use the following formulas to calculate the remaining Bandwidth:</p>
<div class="highlight"><pre><span></span><code>Remaining Free Bandwidth = freeNetLimit - freeNetUsed
Remaining Staked Bandwidth = NetLimit - NetUsed
</code></pre></div>
<p><em>Note: If any of these parameters are absent from the API response, their value is <code>0</code>.</em></p>
<h2 id="energy">Energy<a class="headerlink" href="#energy" title="Permanent link">&para;</a></h2>
<p>Energy is the unit of measurement for the computational resources consumed by the TRON Virtual Machine (TVM) when executing the instructions of a smart contract. This section provides a comprehensive overview of Energy focusing on the following three aspects:</p>
<ul>
<li><a href="#get-energy">The acquisition, consumption, and recovery of Energy</a></li>
<li><a href="#set-fee-limit">How to set the key parameter, <code>fee_limit</code></a></li>
<li><a href="#energy-mechanism">The TRON network's overall consumption mechanism</a></li>
</ul>
<p><a id="get-energy"></a></p>
<h3 id="acquiring-and-consuming-energy">Acquiring and Consuming Energy<a class="headerlink" href="#acquiring-and-consuming-energy" title="Permanent link">&para;</a></h3>
<p>Energy can be acquired in two primary ways:</p>
<ul>
<li>By Staking TRX: Users can obtain Energy by staking the TRX they hold.</li>
<li>By Receiving Delegation: Users can receive Energy delegated to them from other accounts.</li>
</ul>
<h4 id="staking-for-energy-wallet-cli-example">Staking for Energy (<code>wallet-cli</code> example)<a class="headerlink" href="#staking-for-energy-wallet-cli-example" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>freezeBalanceV2 frozen_balance [ResourceCode:0 BANDWIDTH,1 ENERGY]
</code></pre></div>
<h4 id="delegating-energy-wallet-cli-example">Delegating Energy (<code>wallet-cli</code> example)<a class="headerlink" href="#delegating-energy-wallet-cli-example" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>delegateResource [OwnerAddress] balance ResourceCode(0 BANDWIDTH,1 ENERGY), ReceiverAddress [lock]
</code></pre></div>
<h4 id="querying-energy-balance">Querying Energy Balance<a class="headerlink" href="#querying-energy-balance" title="Permanent link">&para;</a></h4>
<p>You can query an account's current Energy status using the <code>wallet/getaccountresource</code> HTTP endpoint. In the returned JSON data, calculate the remaining Energy using the following formula:</p>
<div class="highlight"><pre><span></span><code>Remaining Energy = EnergyLimit - EnergyUsed
</code></pre></div>
<p><em>Note: If these parameters are absent from the API response, their value is <code>0</code>.</em></p>
<h4 id="calculating-your-energy-share">Calculating your Energy Share<a class="headerlink" href="#calculating-your-energy-share" title="Permanent link">&para;</a></h4>
<p>The amount of Energy you receive is a dynamic value calculated in real-time based on your stake relative to the total network stake for Energy:</p>
<div class="highlight"><pre><span></span><code>Your Energy Share = (TRX Staked for Energy / Total TRX Staked for Energy Network-Wide) * Total Energy Limit
</code></pre></div>
<p>Total Energy Limit is a network parameter set by the committee (<a href="https://tronscan.io/#/sr/committee">#19</a>), currently at 180,000,000,000, and can be modified via proposals.</p>
<p><em><strong>Calculation Example</strong></em></p>
<p>Because your share is tied to the network's total stake, your available Energy will fluctuate as other users stake or unstake.</p>
<div class="highlight"><pre><span></span><code>Assume only two users, A and B, have staked 2 TRX each.

Their respective Energy shares are:
A: 90,000,000,000
B: 90,000,000,000

When a third user, C, stakes 1 TRX, the shares are adjusted:
A: 72,000,000,000
B: 72,000,000,000
C: 36,000,000,000
</code></pre></div>
<h4 id="energy-consumption">Energy Consumption<a class="headerlink" href="#energy-consumption" title="Permanent link">&para;</a></h4>
<p><em><strong>Payment Priority</strong></em></p>
<p>When a contract transaction consumes Energy, the system deducts the cost in the following order:</p>
<ol>
<li><strong>Staked Energy:</strong> First, the system consumes the Energy obtained by the transaction initiator from staking TRX.</li>
<li><strong>TRX Burning:</strong> If staked Energy is insufficient to cover all instructions, the system automatically burns the initiator's TRX to cover the difference. The current price is 0.0001 TRX per unit of Energy.</li>
</ol>
<p><em><strong>Fee Deduction for Exceptions</strong></em></p>
<p>Contract execution can be interrupted for various reasons, with different rules for Energy deduction:</p>
<ul>
<li><strong>Normal Interruption (<code>REVERT</code>):</strong> If a contract exits due to a <code>REVERT</code> instruction, only the Energy for the instructions executed up to that point is deducted.</li>
<li><strong>Unexpected Interruption (bug or Timeout):</strong> If a contract crashes due to a code bug, timeout, or another unexpected error, the system will deduct all available Energy for the transaction as a penalty. Users can limit this penalty by setting the <code>fee_limit</code> parameter for the transaction.</li>
</ul>
<h4 id="energy-recovery">Energy Recovery<a class="headerlink" href="#energy-recovery" title="Permanent link">&para;</a></h4>
<p>Consumed Energy resources gradually recover over a 24-hour period.</p>
<p><a id="set-fee-limit"></a></p>
<h3 id="how-to-set-fee_limit-essential-for-users">How to Set <code>fee_limit</code> (Essential for Users)<a class="headerlink" href="#how-to-set-fee_limit-essential-for-users" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this section, "developer" refers to the person who develops and deploys the contract, while "caller" refers to the user or contract that invokes it.
Since the Energy consumed by a contract can be converted to TRX (or sun), this section uses "Energy" and "TRX" interchangeably to refer to the resource cost. The terms are distinguished only when referring to specific numerical units.</p>
</div>
<p><code>fee_limit</code> is a critical safety parameter when calling a smart contract. A properly set <code>fee_limit</code> ensures that a transaction can execute successfully while preventing excessive TRX consumption if the contract requires unexpectedly high Energy.</p>
<p>Before setting <code>fee_limit</code>, understand these concepts:</p>
<ol>
<li>A valid <code>fee_limit</code> is an integer ranging from 0 to 15,000,000,000 sun (equivalent to 15,000 TRX). The <code>fee_limit</code> upper bound is a network parameter that can be modified by committee proposals (<a href="https://tronscan.io/#/sr/committee">#47</a>), and its current value is 15,000 TRX.</li>
<li>Contracts of varying complexity consume different amounts of Energy. The same contract generally consumes a similar amount of Energy per execution<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>, but with the dynamic energy model, popular contracts may require more Energy at different times. For details, see the <a href="#dynamic-energy-model">Dynamic Energy Model</a> section. During execution, Energy is deducted instruction by instruction. If the cost exceeds the <code>fee_limit</code>, the execution fails, and the consumed Energy is not refunded.</li>
<li>The <code>fee_limit</code> currently specifies the maximum amount of TRX the <strong>caller</strong> is willing to pay to execute a contract<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>. Note that the total Energy consumed by the contract's execution can be a combination of what the caller pays and what the developer covers for the contract.</li>
<li>If a contract execution times out or crashes due to a bug, all the Energy allowed for the current transaction will be consumed. This total energy pool is the sum of the following components: <code>Total Consumed Energy = Energy from Caller's Stake + Energy from Developer's Share + Energy from Burned TRX</code>. The "Energy from Burned TRX" component is capped by <code>fee_limit</code>.</li>
<li>Through the <a href="https://developers.tron.network/docs/energy-consumption-mechanism#tron-energy-sharing-mechanism">Energy sharing mechanism</a>, a developer may cover a percentage of the Energy cost (e.g., 90%). However, if the developer's account has insufficient Energy, the remaining cost falls entirely to the caller. Within the <code>fee_limit</code>, if the caller's Energy is also insufficient, an equivalent amount of TRX will be burned.</li>
</ol>
<p><strong>Example:</strong>
Here's how to estimate the <code>fee_limit</code> for executing a contract <code>C</code>:</p>
<ul>
<li>Assume contract C consumed 18,000 Energy during its last successful execution. By calling the <a href="https://developers.tron.network/reference/estimateenergy">estimateenergy</a> API to get a pre-execution estimate, let's assume the upper limit of Energy consumption for this transaction is approximately 20,000 Energy.</li>
<li>When burning TRX, since the unit price of Energy is currently 100 sun, 10 TRX can be exchanged for a fixed 100,000 Energy units.</li>
<li>Assume the developer has committed to covering 90% of the Energy cost and has sufficient Energy.</li>
</ul>
<p>The <code>fee_limit</code> estimation method is as follows:</p>
<ul>
<li><strong>Step 1: Calculate the Total Transaction Fee</strong>: Calculate the total potential cost of the transaction by multiplying the estimated maximum Energy consumption by the current Energy price: <code>20,000 Energy * 100 sun = 2,000,000 sun (equivalent to 2 TRX)</code>.</li>
<li><strong>Step 2: Determine the User's Share</strong>: Calculate the portion of the fee the user is responsible for. Given the developer commits to covering 90%, the user's share is 10%: <code>2,000,000 sun * 10% = 200,000 sun</code>.</li>
<li><strong>Step 3: Set the Final <code>fee_limit</code></strong>: The recommended <code>fee_limit</code> for the user to set is 200,000 sun.</li>
</ul>
<p><a id="energy-mechanism"></a></p>
<h3 id="energy-consumption-mechanism">Energy Consumption Mechanism<a class="headerlink" href="#energy-consumption-mechanism" title="Permanent link">&para;</a></h3>
<p><strong>Basic Energy Consumption Rules</strong></p>
<p>When executing smart contract transactions, the system calculates and deducts the Energy required for each instruction sequentially. The consumption of Energy in an account follows these priority principles:</p>
<ol>
<li>Available Energy (obtained through staking or renting) in the account is first used.</li>
<li>If that part of Energy is insufficient, the remaining part will be covered by burning TRX from the account at a fixed rate (0.0001 TRX per Energy unit).</li>
</ol>
<p><strong>Contract Energy Sharing Mechanism</strong></p>
<p>For smart contract calls, to reduce the caller's costs, TRON allows contract deployers to bear a portion of the Energy consumption. For specific details, please refer to the Contract Energy Sharing Mechanism section.</p>
<p>Energy Deduction Rules:</p>
<ul>
<li>Portion borne by the contract deployer:<ul>
<li>Directly deducted from the available Energy in the deployer's account. TRX in the deployer's account will not be burned.</li>
</ul>
</li>
<li>Portion borne by the contract caller:<ul>
<li>Available Energy in the caller’s account is consumed first.</li>
<li>If insufficient, the remaining part will be covered by burning TRX from the caller's account at a fixed rate.</li>
</ul>
</li>
</ul>
<p><a id="dynamic-energy-model"></a></p>
<h2 id="dynamic-energy-model">Dynamic Energy Model<a class="headerlink" href="#dynamic-energy-model" title="Permanent link">&para;</a></h2>
<p>The Dynamic Energy Model is a resource-balancing mechanism on the TRON network. It dynamically adjusts the Energy consumption of each contract based on its resource usage, promoting a more equitable distribution of Energy and preventing network resources from being excessively concentrated on a few popular contracts. For more details, see the <a href="https://medium.com/tronnetwork/introduction-to-dynamic-energy-model-31917419b61a">Introduction to Dynamic Energy Model</a>.</p>
<h3 id="how-it-works">How It Works<a class="headerlink" href="#how-it-works" title="Permanent link">&para;</a></h3>
<p>If a contract consumes an excessive amount of Energy within a maintenance period (currently 6 hours), transactions calling that same contract will incur additional Energy costs in the next period. When the contract's resource usage returns to a reasonable level, the Energy cost for calling it will gradually return to normal.</p>
<p>Each contract has an <code>energy_factor</code>, which is a multiplier for its base Energy consumption. The initial value is <code>0</code>.</p>
<ul>
<li>An <code>energy_factor</code> of <code>0</code> means the contract is using resources reasonably, and calls will incur no extra Energy cost.</li>
<li>An <code>energy_factor</code> greater than <code>0</code> indicates it is a popular contract, and calls will consume additional Energy. You can query a contract's <code>energy_factor</code> via the <code>getcontractinfo</code> API endpoint.</li>
</ul>
<p>The final Energy consumption for a contract call is calculated as:</p>
<div class="highlight"><pre><span></span><code>Contract Transaction Energy Consumption = Base Energy Consumption Generated by the Contract Call Transaction * (1 + energy_factor)
</code></pre></div>
<p>The dynamic energy model introduces three network parameters that control the <code>energy_factor</code>:</p>
<ul>
<li><code>threshold</code>: The threshold for a contract's base Energy consumption. If a contract exceeds this threshold in a maintenance period, its Energy cost will increase in the next period.</li>
<li><code>increase_factor</code>: The rate at which <code>energy_factor</code> increases when the threshold is exceeded.</li>
<li><code>max_factor</code>: The maximum possible value for <code>energy_factor</code>.</li>
</ul>
<p>There is also a <code>decrease_factor</code> used to lower the <code>energy_factor</code>:</p>
<ul>
<li><code>decrease_factor</code>: Set to <strong>one-fourth</strong> of the <code>increase_factor</code>. When a contract's base Energy consumption falls below the threshold, its <code>energy_factor</code> is reduced by this rate.</li>
</ul>
<p><strong><code>energy_factor</code> Adjustment Formulas:</strong></p>
<ul>
<li>When the base energy consumption of a contract exceeds the <code>threshold</code> within a maintenance period, its <code>energy_factor</code> will increase during the next maintenance period, but will not exceed <code>max_factor</code>. The formula for this calculation is:
    <div class="highlight"><pre><span></span><code>energy_factor = min((1 + energy_factor) * (1 + increase_factor) - 1, max_factor)
</code></pre></div></li>
<li>When the base energy consumption of a contract falls to or below the <code>threshold</code> within a maintenance period, its <code>energy_factor</code> will decrease during the next maintenance period, but not below a minimum of <code>0</code>. The formula for this calculation is:
    <div class="highlight"><pre><span></span><code>energy_factor = max((1 + energy_factor) * (1 - decrease_factor) - 1, 0)
</code></pre></div></li>
</ul>
<p>The dynamic energy model is active on Mainnet with the following parameters:</p>
<ul>
<li><code>threshold</code>: 5,000,000,000</li>
<li><code>increase_factor</code>: 0.2</li>
<li><code>max_factor</code>: 3.4</li>
</ul>
<p>Since the Energy cost for popular contracts can vary between maintenance periods, it is crucial to set an appropriate <code>fee_limit</code> for transactions.</p>
<p><a id="staking-on-tron"></a></p>
<h2 id="staking-on-tron">Staking on TRON<a class="headerlink" href="#staking-on-tron" title="Permanent link">&para;</a></h2>
<h3 id="how-to-stake-for-system-resources">How to Stake for System Resources<a class="headerlink" href="#how-to-stake-for-system-resources" title="Permanent link">&para;</a></h3>
<p>On the TRON network, staking TRX is the unified mechanism for obtaining the three core resources: Energy, Bandwidth, and TRON Power (TP).</p>
<h4 id="how-to-stake">How to Stake<a class="headerlink" href="#how-to-stake" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>HTTP API:</strong> Call the <code>wallet/freezebalancev2</code> endpoint.</li>
<li><strong>Smart Contract:</strong> Use the <a href="https://developers.tron.network/docs/stake-20-solidity-api">Stake 2.0 Solidity API</a> within a contract.</li>
</ul>
<p>When you unstake, the corresponding resources (Energy/Bandwidth) and TP are released and reclaimed simultaneously.</p>
<h3 id="how-to-delegate-resources">How to Delegate Resources<a class="headerlink" href="#how-to-delegate-resources" title="Permanent link">&para;</a></h3>
<p>After an account obtains Energy or Bandwidth through staking, it can choose to delegate these resources to other TRON accounts. This allows accounts with a surplus of resources to help those with insufficient resources complete transactions.</p>
<p><strong>Delegation Rules and Key Restrictions</strong></p>
<p>Before delegating, you must understand the following key rules:</p>
<ul>
<li><strong>Delegable Resources:</strong> Only Energy and Bandwidth can be delegated. TP cannot.</li>
<li><strong>Source of Resources:</strong> Only available resources obtained through Stake 2.0 are eligible for delegation.</li>
<li><strong>Recipient:</strong> The recipient must be an activated external account, not a contract address.</li>
</ul>
<p><strong>Time Lock Option</strong></p>
<p>When delegating, you can choose to enable a time lock, which affects when you can reclaim the resources.</p>
<ul>
<li><strong>With Time Lock:</strong> The resources are locked for a period. You must wait for this period to end before you can undelegate.
    <strong>Important:</strong> If you delegate to the same address again during this period, the pending period resets.</li>
<li><strong>Without Time Lock:</strong> You can undelegate at any time and reclaim the resources immediately.</li>
</ul>
<p><strong>Related API Endpoints</strong></p>
<ul>
<li><code>delegateresource</code>: Delegate resources.</li>
<li><code>undelegateresource</code>: Undelegate (reclaim) resources.</li>
<li><code>getcandelegatedmaxsize</code>: Query the maximum amount of a resource you can delegate.</li>
</ul>
<h3 id="how-to-unstake">How to Unstake<a class="headerlink" href="#how-to-unstake" title="Permanent link">&para;</a></h3>
<p>After staking TRX, you can initiate an unstake operation at any time using the <code>unfreezebalancev2</code> API. However, this process has a time delay and follows specific rules.</p>
<p>After staking TRX, you can initiate an unstake operation at any time using the <code>unfreezebalancev2</code> API. After initiating an unstake, your TRX enters a 14-day pending period. This pending period is TRON network parameter <a href="https://tronscan.io/#/sr/committee">#70</a> and can be changed in the future through network governance. After the 14-day period has ended, you can withdraw the funds to your account balance using the <code>withdrawexpireunfreeze</code> API.</p>
<div class="admonition important notes">
<p class="admonition-title">Important</p>
<ul>
<li><strong>Delegated Resources Cannot Be Unstaked:</strong> You cannot unstake TRX corresponding to resources that are currently delegated. You must first reclaim the resources using <code>undelegateresource</code> before you can unstake that portion of TRX.</li>
<li><strong>Resource Reclamation:</strong> Unstaking will cause the resources (Energy or Bandwidth) and TRON Power (TP) corresponding to the staked TRX to be synchronously reclaimed by the system. As a result, you will lose the respective Energy or Bandwidth and an equivalent amount of TP.</li>
<li><strong>Concurrent Operation Limit:</strong> You can have a maximum of 32 unstake operations in the 14-day pending period at any one time. Use the <code>getavailableunfreezecount</code> endpoint to check your remaining unstake capacity.</li>
</ul>
</div>
<p><strong>Automatic Effects of Unstaking</strong>: Calling <code>unfreezebalancev2</code> not only initiates a new unstaking process, but it also automatically withdraws any TRX that has already completed its 14-day pending period.</p>
<p><strong>How to Verify Withdrawn Amount</strong>: To find out exactly how much unstaked TRX was automatically withdrawn during a specific unstaking operation, you can query the details of that unstake transaction using the <code>gettransactioninfobyid</code> API and look for the field <code>withdraw_expire_amount</code>, which shows the amount of matured unstaked TRX that was automatically withdrawn in this transaction.</p>
<h4 id="reclaiming-tron-power">Reclaiming TRON Power<a class="headerlink" href="#reclaiming-tron-power" title="Permanent link">&para;</a></h4>
<p>Under Stake 2.0, unstaking TRX simultaneously reclaims an equivalent amount of TRON Power (TP). If the amount of TP to be reclaimed exceeds your account's idle (unvoted) TP, the system will proportionally revoke your cast votes.</p>
<p><em><strong>TP Reclamation Priority</strong></em>: When the system reclaims TP, it follows the following two-step process:</p>
<ol>
<li><strong>Reclaim Idle TP First:</strong> The system first reclaims all of your account's TP that is not currently being used for voting.</li>
<li><strong>Cancel Votes as Needed:</strong> If the idle TP is insufficient to meet the reclamation demand, the system will begin to revoke your cast votes to reclaim the remaining required TP.</li>
</ol>
<p><em><strong>Rules for Calculating Vote Revocation</strong></em></p>
<p>The revocation operation is not random. Instead, votes are revoked proportionally and fairly from every Super Representative (SR) and Super Representative Partner you have voted for.</p>
<ul>
<li>
<p><em>Formula:</em></p>
<div class="highlight"><pre><span></span><code>Votes Revoked from a Given SR = Total Votes to Revoke * (Votes Cast for that SR or SR Partner / Total Votes Cast by the Account)
</code></pre></div>
</li>
<li>
<p><em>Example:</em></p>
<p>Assume User <code>A</code>'s initial account state is:</p>
<ul>
<li>Total Staked: 2,000 TRX</li>
<li>Total TP: 2,000 TP</li>
<li>Votes Cast: 1,000 TP (600 for SR1, 400 for SR2)</li>
<li>Unused TP: 1,000 TP</li>
</ul>
<p>Now, User <code>A</code> unstakes 1,500 TRX.</p>
<p><em>System Process:</em></p>
<ol>
<li>Reclamation Demand: The system needs to reclaim 1,500 TP.</li>
<li>Reclaim Unused TP: First, it reclaims all 1,000 idle TP.</li>
<li>Calculate Shortfall: A remaining <code>1,500 - 1,000 = 500 TP</code> must be reclaimed by revoking votes.</li>
<li>Proportional revocation:<ul>
<li>Votes revoked for SR1: <code>500 * (600 / 1000) = 300</code> votes.</li>
<li>Votes revoked for SR2: <code>500 * (400 / 1000) = 200</code> votes.</li>
</ul>
</li>
<li>Final State: User A successfully unstakes 1,500 TRX. Their voting state is updated to: 300 votes for SR1 and 200 votes for SR2.</li>
</ol>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Stake 1.0 vs. Stake 2.0</p>
<p>Although Stake 2.0 is the current standard, TRX staked via the legacy Stake 1.0 system is still valid and can be redeemed using its corresponding <code>wallet/unfreezebalance</code> API. Unstaking TRX from Stake 1.0 will revoke <strong>all</strong> of the account's votes.</p>
</div>
<h3 id="how-to-cancel-all-unstaking-requests">How to Cancel All Unstaking Requests<a class="headerlink" href="#how-to-cancel-all-unstaking-requests" title="Permanent link">&para;</a></h3>
<p>If you initiate an unstake but change your mind, Stake 2.0 provides an efficient "cancel" feature. You can use the <code>cancelallunfreezev2</code> API to immediately cancel all pending unstake requests, bypassing the 14-day pending period, and get your resources back immediately.</p>
<p><strong>Please note</strong>: this endpoint cancels all of your account's unstaking requests that are currently in the 14-day pending period.</p>
<ul>
<li><strong>TRX Status:</strong> The canceled TRX is immediately re-staked.</li>
<li><strong>Resource Type:</strong> The re-staked funds will acquire the same resource type (Energy or Bandwidth) as the original stake.</li>
</ul>
<p><strong>Additional Effect - Automatic Withdrawal</strong>: This operation will also automatically withdraw any unstaked TRX that has already completed its 14-day pending period and is awaiting withdrawal.</p>
<p><strong>How to Verify the Result</strong></p>
<p>You can query the transaction details using <code>gettransactioninfobyid</code> and check the following fields:</p>
<ul>
<li><code>cancel_unfreezeV2_amount</code>: The total amount of TRX that was successfully canceled and re-staked.</li>
<li><code>withdraw_expire_amount</code>: The total amount of matured unstaked TRX that was automatically withdrawn to your account balance.</li>
</ul>
<h3 id="relevant-api-endpoints">Relevant API Endpoints<a class="headerlink" href="#relevant-api-endpoints" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th style="text-align: left;">API Endpoint</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>wallet/freezebalancev2</code></td>
<td style="text-align: left;">Stake TRX.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/unfreezebalancev2</code></td>
<td style="text-align: left;">Unstake TRX.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/delegateresource</code></td>
<td style="text-align: left;">Delegate resources.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/undelegateresource</code></td>
<td style="text-align: left;">Undelegate resources.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/withdrawexpireunfreeze</code></td>
<td style="text-align: left;">Withdraw unstaked TRX that has passed the pending period.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/getavailableunfreezecount</code></td>
<td style="text-align: left;">Check the remaining number of unstake operations allowed.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/getcanwithdrawunfreezeamount</code></td>
<td style="text-align: left;">Check the amount of withdrawable unstaked TRX.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/getcandelegatedmaxsize</code></td>
<td style="text-align: left;">Check the maximum amount of delegable resources.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/getdelegatedresourcev2</code></td>
<td style="text-align: left;">Check resources delegated from one address to another.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/getdelegatedresourceaccountindexv2</code></td>
<td style="text-align: left;">Check an account's delegation and received delegation status.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/getaccount</code></td>
<td style="text-align: left;">Check account stake, resources, unstake, and voting status.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/getaccountresource</code></td>
<td style="text-align: left;">Check resource totals, usage, and available amounts.</td>
</tr>
<tr>
<td style="text-align: left;"><code>wallet/cancelallunfreezev2</code></td>
<td style="text-align: left;">Cancel all pending unstake requests.</td>
</tr>
</tbody>
</table>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>If a developer is unsure about a contract's stability, they should not set the user's cost share to 0%. Otherwise, if the execution is deemed malicious, all of the developer's Energy will be deducted.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Therefore, it is recommended that developers set the user's share of the cost to be between 10% and 100%.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>












		  <hr class="content-footer-divider">  <!-- 添加的水平线 -->
      	    	  <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../account/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Account Model">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Account Model
              </div>
            </div>
          </a>
        
        
          
          <a href="../../contracts/contract/" class="md-footer__link md-footer__link--next" aria-label="Next: Smart Contract">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Smart Contract
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <!--div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div-->
</footer>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.footer", "toc.integrate", "search.highlight", "search.suggest", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/toc.js"></script>
      
        <script src="../../javascripts/nav-toc.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>