
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://tronprotocol.github.io/documentation-en/using_javatron/toolkit/">
      
      
        <link rel="prev" href="../metrics/">
      
      
        <link rel="next" href="../../api/http/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Node Maintenance Tool - java-tron</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#toolkit-a-java-tron-node-maintenance-suite" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="java-tron" class="md-header__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            java-tron
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Node Maintenance Tool
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="java-tron" class="md-nav__button md-logo" aria-label="java-tron" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    java-tron
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tronprotocol/documentation-en" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting Started With java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started With java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/getting_started_with_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Using java-tron
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Using java-tron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installing_javatron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../backup_restore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup and Restore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../litefullnode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lite FullNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../private_network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private Network
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Event Subscription
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Event Subscription
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/event/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/use-native-queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in Message Queue Subscription
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/use-mongodb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB Event Subscription Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/use-kafka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kafka Event Subscription Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting_to_tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Connection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Monitoring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Node Maintenance Tool
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Node Maintenance Tool
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item has-children">
  <a href="#obtaining-the-toolkit" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Obtaining the Toolkit
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Obtaining the Toolkit" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#compiling-from-source" class="md-nav__link" >
    <span class="md-ellipsis">
      Compiling from Source
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#database-partitioning-tool" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Database Partitioning Tool
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Partitioning Tool" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#command-and-parameters" class="md-nav__link" >
    <span class="md-ellipsis">
      Command and Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#usage-instructions" class="md-nav__link" >
    <span class="md-ellipsis">
      Usage Instructions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#lite-fullnode-data-pruning" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Lite Fullnode Data Pruning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lite Fullnode Data Pruning" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#command-and-parameters_1" class="md-nav__link" >
    <span class="md-ellipsis">
      Command and Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item ">
  <a href="#usage-examples" class="md-nav__link" >
    <span class="md-ellipsis">
      Usage Examples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#fast-data-copy-tool" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Fast Data Copy Tool
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fast Data Copy Tool" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#command-and-parameters_2" class="md-nav__link" >
    <span class="md-ellipsis">
      Command and Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#data-conversion-tool" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      Data Conversion Tool
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Conversion Tool" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#command-and-parameters_3" class="md-nav__link" >
    <span class="md-ellipsis">
      Command and Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item has-children">
  <a href="#leveldb-startup-optimization-tool" class="md-nav__link" onclick="toggleChildren(event)" aria-expanded="false">
    <span class="md-ellipsis">
      LevelDB Startup Optimization Tool
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LevelDB Startup Optimization Tool" hidden>
      <ul class="md-nav__list">
        
          <li class="md-nav__item ">
  <a href="#command-and-parameters_4" class="md-nav__link" >
    <span class="md-ellipsis">
      Command and Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/http/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/json-rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    jsonRPC API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core Protocol
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Core Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/dpos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DPoS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/sr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Super Representative
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/account/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/contract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Smart Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/system-contracts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Contract
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/dex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Decentralized Exchange
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mechanism-algorithm/multi-signatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Account Permission Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For java-tron Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            For java-tron Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/java-tron/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TIPs Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/issue-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/governance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Governance Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/run-in-idea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure the IDE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developers/code-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Modules
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    For Dapp Developers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            For Dapp Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contracts/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Clients
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Clients
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../clients/wallet-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wallet-cli
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/upgrade-instruction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment Manual for the New Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/signature_verification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrity Check
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../releases/history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    History
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendix
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Appendix
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="toolkit-a-java-tron-node-maintenance-suite">Toolkit: A Java-tron Node Maintenance Suite<a class="headerlink" href="#toolkit-a-java-tron-node-maintenance-suite" title="Permanent link">&para;</a></h1>
<p>The TRON Toolkit is a comprehensive utility that integrates various ecosystem tools for <code>java-tron</code>, designed to streamline node maintenance and management operations. We are committed to expanding its functionality in future releases to improve the developer experience. The Toolkit currently offers the following core features:</p>
<ul>
<li><a href="#database-partitioning-tool">Database Partitioning</a>: Alleviates storage pressure caused by on-chain data growth.</li>
<li><a href="#lite-fullnode-data-pruning">Lite Fullnode Data Pruning</a>: Enables periodic pruning of Lite Fullnode data.</li>
<li><a href="#fast-data-copy-tool">Fast Data Copy</a>: Implements rapid database copying.</li>
<li><a href="#data-conversion-tool">Data Conversion</a>: Supports data format conversion from LevelDB to RocksDB.</li>
<li><a href="#leveldb-startup-optimization-tool">LevelDB Startup Optimization</a>: Accelerates the startup speed for nodes using LevelDB.</li>
</ul>
<p>This document provides a detailed guide on how to acquire and use the TRON Toolkit.</p>
<h2 id="obtaining-the-toolkit">Obtaining the Toolkit<a class="headerlink" href="#obtaining-the-toolkit" title="Permanent link">&para;</a></h2>
<p>You can obtain the <code>Toolkit.jar</code> file either by compiling the <code>java-tron</code> source code or by downloading a pre-compiled binary from the official releases. We recommend downloading the latest version from <a href="https://github.com/tronprotocol/java-tron/releases">GitHub Releases</a>.</p>
<h3 id="compiling-from-source">Compiling from Source<a class="headerlink" href="#compiling-from-source" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Clone the <code>java-tron</code> source repository</strong>：
   <div class="highlight"><pre><span></span><code>$ git clone https://github.com/tronprotocol/java-tron.git
$ git checkout -t origin/master
</code></pre></div></li>
<li><strong>Build the project</strong>：
   <div class="highlight"><pre><span></span><code>$ cd java-tron
$ ./gradlew clean build -x test
</code></pre></div>
Upon successful compilation, the <code>Toolkit.jar</code> artifact will be located in the <code>java-tron/build/libs/</code> directory.</li>
</ol>
<h2 id="database-partitioning-tool">Database Partitioning Tool<a class="headerlink" href="#database-partitioning-tool" title="Permanent link">&para;</a></h2>
<p>The continuous growth of TRON's on-chain data (Mainnet Fullnode database currently exceeds 2TB and grows by approximately 1.2GB daily) places increasing storage demands on nodes. To address the limitations of single-disk capacity, the TRON Toolkit includes a <strong>database storage partitioning tool</strong>. This tool enables you to migrate specific database components to different storage disks based on a configuration file. This allows you to expand storage capacity by adding new devices rather than replacing existing ones when disk space becomes insufficient.</p>
<h3 id="command-and-parameters">Command and Parameters<a class="headerlink" href="#command-and-parameters" title="Permanent link">&para;</a></h3>
<p>Use the <code>db mv</code> command to execute the data migration：
<div class="highlight"><pre><span></span><code># full command
java -jar Toolkit.jar db mv [-h] [-c=&lt;config&gt;] [-d=&lt;database&gt;]
# examples
java -jar Toolkit.jar db mv -c main_net_config.conf -d /data/tron/output-directory
</code></pre></div></p>
<p><strong>Optional Parameters</strong>：</p>
<ul>
<li><code>-c | --config &lt;string&gt;</code>: Specifies the FullNode configuration file path. Default: <code>config.conf</code>。</li>
<li><code>-d | --database-directory &lt;string&gt;</code>: Specifies the FullNode database directory. Default: <code>output-directory</code>。</li>
<li><code>-h | --help &lt;boolean&gt;</code>: Displays help information. Default: <code>false</code>。</li>
</ul>
<h3 id="usage-instructions">Usage Instructions<a class="headerlink" href="#usage-instructions" title="Permanent link">&para;</a></h3>
<p>To use the database partitioning tool, follow these steps:</p>
<ol>
<li><a href="#1-stop-the-fullnode-service">Stop the FullNode service</a></li>
<li><a href="#2-configure-database-storage-migration">Configure database migration settings</a></li>
<li><a href="#3-execute-the-database-migration">Execute the migration command</a></li>
<li><a href="#4-restart-the-fullnode-service">Restart the FullNode service</a></li>
</ol>
<h4 id="1-stop-the-fullnode-service">1. Stop the FullNode Service<a class="headerlink" href="#1-stop-the-fullnode-service" title="Permanent link">&para;</a></h4>
<p>Before performing a database migration, you <strong>must</strong> stop the currently running FullNode service. You can use the following command to find the FullNode process ID (PID) and kill it:</p>
<div class="highlight"><pre><span></span><code>kill -15 $(ps -ef | grep FullNode.jar | grep -v grep | awk &#39;{print $2}&#39;)
</code></pre></div>
<h4 id="2-configure-database-storage-migration">2. Configure Database Storage Migration<a class="headerlink" href="#2-configure-database-storage-migration" title="Permanent link">&para;</a></h4>
<p>Database migration is configured via the <code>storage.properties</code>field in the <code>java-tron</code> node configuration file. You can find an example configuration in the <a href="https://github.com/tronprotocol/tron-deployment/blob/master/main_net_config.conf#L37">tron-deployment repository</a>.</p>
<p>The following example demonstrates how to migrate the <code>block</code> and <code>trans</code> databases to the <code>/data1/tron</code> directory:</p>
<p><div class="highlight"><pre><span></span><code>storage {
 ......
  properties = [
    {
     name = &quot;block&quot;,
     path = &quot;/data1/tron&quot;,

    },
    {
     name = &quot;trans&quot;,
     path = &quot;/data1/tron&quot;,
   }
  ]
 ......
}
</code></pre></div>
*   <code>name</code>：The name of the database to be migrated.
*   <code>path</code>：The target directory for the database migration.</p>
<p>The tool will move the database specified by <code>name</code> to the <code>path</code> directory and create a soft link in the original location pointing to the new directory. After the Fullnode restart, it will use this link to locate the data.</p>
<h4 id="3-execute-the-database-migration">3. Execute the Database Migration<a class="headerlink" href="#3-execute-the-database-migration" title="Permanent link">&para;</a></h4>
<p>After configuration, run the following command to perform the migration. The command will display the current progress.</p>
<div class="highlight"><pre><span></span><code>java -jar Toolkit.jar db mv -c main_net_config.conf -d /data/tron/output-directory
</code></pre></div>
<h4 id="4-restart-the-fullnode-service">4. Restart the FullNode Service<a class="headerlink" href="#4-restart-the-fullnode-service" title="Permanent link">&para;</a></h4>
<p>Once the migration is complete, restart your <code>java-tron</code> node. </p>
<p><strong>FullNode Startup Command Example</strong>：</p>
<p><div class="highlight"><pre><span></span><code>nohup java -Xms9G -Xmx9G -XX:ReservedCodeCacheSize=256m \
                -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=512m \
                -XX:MaxDirectMemorySize=1G -XX:+PrintGCDetails \
                -XX:+PrintGCDateStamps  -Xloggc:gc.log \
                -XX:+UseConcMarkSweepGC -XX:NewRatio=2 \
                -XX:+CMSScavengeBeforeRemark -XX:+ParallelRefProcEnabled \
                -XX:+HeapDumpOnOutOfMemoryError \
                -XX:+UseCMSInitiatingOccupancyOnly  -XX:CMSInitiatingOccupancyFraction=70 \
                -jar FullNode.jar -c main_net_config.conf &gt;&gt; start.log 2&gt;&amp;1 &amp;
</code></pre></div>
<strong>Super Representative (SR) FullNode Startup Command Example</strong>：
<div class="highlight"><pre><span></span><code>nohup java -Xms9G -Xmx9G -XX:ReservedCodeCacheSize=256m \
               -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=512m \
               -XX:MaxDirectMemorySize=1G -XX:+PrintGCDetails \
               -XX:+PrintGCDateStamps  -Xloggc:gc.log \
               -XX:+UseConcMarkSweepGC -XX:NewRatio=2 \
               -XX:+CMSScavengeBeforeRemark -XX:+ParallelRefProcEnabled \
               -XX:+HeapDumpOnOutOfMemoryError \
               -XX:+UseCMSInitiatingOccupancyOnly  -XX:CMSInitiatingOccupancyFraction=70 \
               -jar FullNode.jar --witness -c main_net_config.conf &gt;&gt; start.log 2&gt;&amp;1 &amp;
</code></pre></div></p>
<h2 id="lite-fullnode-data-pruning">Lite Fullnode Data Pruning<a class="headerlink" href="#lite-fullnode-data-pruning" title="Permanent link">&para;</a></h2>
<p>The TRON Toolkit provides a <strong>data pruning tool</strong> primarily used for generating and managing lite FullNode data.</p>
<p>A FullNode's complete data can be split into two parts: a snapshot dataset (Snapshot Dataset) or a historical dataset (History Dataset).</p>
<ul>
<li><strong>Snapshot Dataset</strong>: Used to start a lite FullNode. It does not contain historical data prior to the block height at the time of pruning.</li>
<li><strong>History Dataset</strong>: Used for querying historical data.</li>
</ul>
<p>The snapshot dataset contains all account state data plus the history of the most recent 65,536 blocks. It occupies a small amount of space (approximately 3% of a FullNode's data). Since a Lite Fullnode starts using only the snapshot dataset, it has the advantages of low disk usage and fast startup speeds.</p>
<p>The data pruning tool can split a FullNode's data into a <strong>Snapshot Dataset</strong> or a <strong>History Dataset</strong>. It also supports merging a history dataset back with a snapshot dataset. This enables the following use cases:
* <strong>Convert FullNode Data into Lite Fullnode Data</strong>: Split the full node data to generate a snapshot dataset, which is all that's needed to run a light node.
* <strong>Periodically Pruning a Lite FullNode</strong>: As a light node runs, its data grows. You can periodically prune it by using the tool to create a new, smaller snapshot dataset from the existing lite FullNode data.
* <strong>Converting Lite FullNode Data Back to FullNode Data</strong>: To enable historical queries on a lite FullNode, you can convert it back to a FullNode. First, split a FullNode to create a history dataset. Then, merge that history dataset with your lite FullNode's snapshot dataset to create a complete FullNode database.</p>
<blockquote>
<p><strong>Important Note</strong>: Before using this tool for any operation, you need to stop the currently running node first.</p>
</blockquote>
<h3 id="command-and-parameters_1">Command and Parameters<a class="headerlink" href="#command-and-parameters_1" title="Permanent link">&para;</a></h3>
<p>Use the <code>db lite</code> command to perform data pruning operations:
<div class="highlight"><pre><span></span><code># full command
  java -jar Toolkit.jar db lite [-h] -ds=&lt;datasetPath&gt; -fn=&lt;fnDataPath&gt; [-o=&lt;operate&gt;] [-t=&lt;type&gt;]
# examples
  #split and get a snapshot dataset
  java -jar Toolkit.jar db lite -o split -t snapshot --fn-data-path output-directory/database --dataset-path /tmp
  #split and get a history dataset
  java -jar Toolkit.jar db lite -o split -t history --fn-data-path output-directory/database --dataset-path /tmp
  #merge history dataset and snapshot dataset
  java -jar Toolkit.jar db lite -o merge --fn-data-path /tmp/snapshot --dataset-path /tmp/history
</code></pre></div>
<strong>Optional Parameters</strong>：</p>
<ul>
<li><code>-o | --operation &lt;split | merge&gt;</code>: Specifies the operation type. Default: <code>split</code>。</li>
<li><code>-t | --type &lt;snapshot | history&gt;</code>：Used only with <code>-o split</code>. <code>snapshot</code> creates a snapshot dataset; <code>history</code> creates a history dataset.</li>
<li><code>-fn | --fn-data-path &lt;string&gt;</code>：<ul>
<li>For <code>split</code>, this is the source directory of the data to be pruned.</li>
<li>For <code>merge</code>, this is the directory of the lite FullNode's database (the snapshot dataset).</li>
</ul>
</li>
<li><code>-ds | --dataset-path &lt;string&gt;</code>：<ul>
<li>For <code>split</code>, this is the output directory for the generated snapshot or history dataset.</li>
<li>For <code>merge</code>, this is the directory of the history dataset.</li>
</ul>
</li>
</ul>
<h3 id="usage-examples">Usage Examples<a class="headerlink" href="#usage-examples" title="Permanent link">&para;</a></h3>
<p>The node database is typically located in the <code>output-directory/database</code> directory by default. The following examples will use this default directory for illustration.</p>
<h4 id="split-to-create-a-snapshot-dataset">Split to Create a Snapshot Dataset<a class="headerlink" href="#split-to-create-a-snapshot-dataset" title="Permanent link">&para;</a></h4>
<p>This feature can be used to convert FullNode data into Lite FullNode data, or to periodically prune the data of a running Lite FullNode. Follow these steps:</p>
<p>First, stop the node, then execute the following command:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># For simplicity, the snapshot dataset will be stored in the /tmp directory</span>
java<span class="w"> </span>-jar<span class="w"> </span>Toolkit.jar<span class="w"> </span>db<span class="w"> </span>lite<span class="w"> </span>-o<span class="w"> </span>split<span class="w"> </span>-t<span class="w"> </span>snapshot<span class="w"> </span>--fn-data-path<span class="w"> </span>output-directory/database<span class="w"> </span>--dataset-path<span class="w"> </span>/tmp
</code></pre></div>
<ul>
<li><code>--fn-data-path</code>: The source directory of the data to be pruned (the node's database directory).</li>
<li><code>--dataset-path</code>: The output directory for the generated snapshot dataset.</li>
</ul>
<p>After the command completes, a directory named <code>snapshot</code> will be created in the <code>/tmp</code> directory. This directory contains the Lite FullNode data. To use it, copy the data from the snapshot directory to your node's database directory (e.g., rename the <code>snapshot</code> directory to database and move it to the Lite FullNode's <code>output-directory</code>), and then restart the node.</p>
<h4 id="split-to-create-a-history-dataset">Split to Create a History Dataset<a class="headerlink" href="#split-to-create-a-history-dataset" title="Permanent link">&para;</a></h4>
<p>To split and create a history dataset, use the following command:</p>
<div class="highlight"><pre><span></span><code># For simplicity, the history dataset will be stored in the /tmp directory
java -jar Toolkit.jar db lite -o split -t history --fn-data-path output-directory/database --dataset-path /tmp
</code></pre></div>
<ul>
<li><code>--fn-data-path</code>: The FullNode's database directory.</li>
<li><code>--dataset-path</code>: The output directory for the generated history dataset.</li>
</ul>
<p>After the command completes, a directory named <code>history</code> will be created in the /tmp directory, containing the generated history dataset.</p>
<h4 id="merge-a-history-dataset-and-a-snapshot-dataset">Merge a History Dataset and a Snapshot Dataset<a class="headerlink" href="#merge-a-history-dataset-and-a-snapshot-dataset" title="Permanent link">&para;</a></h4>
<p>Both the history dataset and the snapshot dataset contain an <code>info.properties</code> file that records the block height at which the split occurred. </p>
<blockquote>
<p><strong>Please Note</strong>: To merge the two datasets, the block height of the history dataset must be greater than or equal to that of the snapshot dataset. After the <code>merge</code> operation, the Lite FullNode will be converted into a complete FullNode.</p>
</blockquote>
<p>Use the following command to merge a history dataset and a snapshot dataset:</p>
<p><div class="highlight"><pre><span></span><code><span class="c1"># Assuming the snapshot dataset is in /tmp/snapshot and the history dataset is in /tmp/history</span>
java<span class="w"> </span>-jar<span class="w"> </span>Toolkit.jar<span class="w"> </span>db<span class="w"> </span>lite<span class="w"> </span>-o<span class="w"> </span>merge<span class="w"> </span>--fn-data-path<span class="w"> </span>/tmp/snapshot<span class="w"> </span>--dataset-path<span class="w"> </span>/tmp/history
</code></pre></div>
*   <code>--fn-data-path</code>: The directory of the snapshot dataset.
*   <code>--dataset-path</code>: The directory of the history dataset.</p>
<p>When the command finishes, the merged data will overwrite the snapshot dataset in the directory specified by <code>--fn-data-path</code>. Copy this merged data to your node's database directory to convert the Lite FullNode into a FullNode.</p>
<h2 id="fast-data-copy-tool">Fast Data Copy Tool<a class="headerlink" href="#fast-data-copy-tool" title="Permanent link">&para;</a></h2>
<p>Node databases are often large, and traditional copy operations can be time-consuming. The TRON Toolkit provides a <strong>fast database copy feature</strong> that uses hard links to efficiently copy a LevelDB or RocksDB database within a single disk partition.</p>
<h3 id="command-and-parameters_2">Command and Parameters<a class="headerlink" href="#command-and-parameters_2" title="Permanent link">&para;</a></h3>
<p>Use the <code>db cp</code> command to perform a data copy operation:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># full command</span>
<span class="w">  </span>java<span class="w"> </span>-jar<span class="w"> </span>Toolkit.jar<span class="w"> </span>db<span class="w"> </span>cp<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span>&lt;src&gt;<span class="w"> </span>&lt;dest&gt;
<span class="c1"># examples</span>
<span class="w">  </span>java<span class="w"> </span>-jar<span class="w"> </span>Toolkit.jar<span class="w"> </span>db<span class="w"> </span>cp<span class="w">  </span>output-directory/database<span class="w"> </span>/tmp/databse
</code></pre></div>
<p><strong>Optional Parameters</strong>:</p>
<ul>
<li><code>&lt;src&gt;</code>: Specifies the source database directory. Default: <code>output-directory/database</code>.</li>
<li><code>&lt;dest&gt;</code>: Specifies the target directory for the copy. Default: <code>output-directory-cp/database</code>.</li>
<li><code>-h | --help &lt;boolean&gt;</code>: Displays help information. Default: <code>false</code>.</li>
</ul>
<blockquote>
<p><strong>Important Note</strong>: Before performing any operation with this tool, you <strong>must</strong> stop the currently running node.</p>
</blockquote>
<h2 id="data-conversion-tool">Data Conversion Tool<a class="headerlink" href="#data-conversion-tool" title="Permanent link">&para;</a></h2>
<p>The TRON Toolkit includes a data conversion feature that allows you to convert a database from LevelDB format to RocksDB format.</p>
<h3 id="command-and-parameters_3">Command and Parameters<a class="headerlink" href="#command-and-parameters_3" title="Permanent link">&para;</a></h3>
<p>Use the <code>db convert</code> command to perform the data conversion:</p>
<div class="highlight"><pre><span></span><code># full command
  java -jar Toolkit.jar db convert [-h] [--safe] &lt;src&gt; &lt;dest&gt;
# examples
  java -jar Toolkit.jar db convert  output-directory/database /tmp/database
</code></pre></div>
<p><strong>Optional Parameters</strong>:</p>
<ul>
<li><code>&lt;src&gt;</code>: Specifies the source LevelDB data directory. Default: <code>output-directory/database</code>.</li>
<li><code>&lt;dest&gt;</code>: Specifies the output directory for the RocksDB data. Default: <code>output-directory-dst/database</code>.</li>
<li><code>--safe &lt;boolean&gt;</code>: Toggles safe mode for the conversion. The default is <code>false</code>, but we recommended setting this to <code>true</code> for better data compatibility.<ul>
<li>If safe mode is enabled, the tool reads all data from LevelDB and writes it to RocksDB. This process is slower but more thorough.</li>
<li>If safe mode is disabled (default), the tool performs a much faster conversion. Because the current version of RocksDB is compatible with LevelDB, this mode simply changes the <code>engine.properties</code> file setting from <code>leveldb</code> to <code>rocksdb</code>.</li>
</ul>
</li>
<li><code>-h | --help &lt;boolean&gt;</code>: Displays help information. Default: <code>false</code>.</li>
</ul>
<blockquote>
<p><strong>Important Note</strong>: Before performing any operation with this tool, you must stop the currently running node.</p>
</blockquote>
<h2 id="leveldb-startup-optimization-tool">LevelDB Startup Optimization Tool<a class="headerlink" href="#leveldb-startup-optimization-tool" title="Permanent link">&para;</a></h2>
<p>As a LevelDB database operates, its <code>manifest</code> file continuously grows. An excessively large <code>manifest</code> file can slow down node startup and lead to persistent memory growth, which may cause the service to terminate unexpectedly. To solve these problems, the TRON Toolkit provides a <strong>LevelDB Startup Optimization Tool</strong>. It optimizes the <code>manifest</code> file size and the LevelDB startup process, reducing memory usage and accelerating node startup.</p>
<h3 id="command-and-parameters_4">Command and Parameters<a class="headerlink" href="#command-and-parameters_4" title="Permanent link">&para;</a></h3>
<p>Use the <code>db archive</code> command to perform the LevelDB startup optimization:</p>
<div class="highlight"><pre><span></span><code># full command
   java -jar Toolkit.jar db archive [-h] [-b=&lt;maxBatchSize&gt;] [-d=&lt;databaseDirectory&gt;] [-m=&lt;maxManifestSize&gt;]
# examples
   #1. use default settings
   java -jar Toolkit.jar db archive 
   #2. specify the database directory as /tmp/db/database
   java -jar Toolkit.jar db archive -d /tmp/db/database 
   #3. specify the batch size to 64000 when optimizing manifest
   java -jar Toolkit.jar db archive -b 64000
   #4. specify optimization only when Manifest exceeds 128M
   java -jar Toolkit.jar db archive -m 128 
</code></pre></div>
<p><strong>Optional Parameters</strong>:</p>
<ul>
<li><code>-b | --batch-size &lt;integer&gt;</code>: Specifies the batch size for <code>manifest</code> processing. Default: <code>80000</code>.</li>
<li><code>-d | --database-directory &lt;string&gt;</code>: Specifies the LevelDB database directory. Default: <code>output-directory/database</code>.</li>
<li><code>-m | --manifest-size &lt;integer&gt;</code>: The minimum size of the <code>manifest</code> file (in MB) to trigger the optimization. The tool will only process the file if its size exceeds this value. Default: <code>0</code>.</li>
<li><code>-h | --help &lt;boolean&gt;</code>: Displays help information. Default: <code>false</code>.</li>
</ul>
<blockquote>
<p><strong>Important Note</strong>: Before performing any operation with this tool, you must stop the currently running node.</p>
</blockquote>












		  <hr class="content-footer-divider">  <!-- 添加的水平线 -->
      	    	  <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../metrics/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Node Monitoring">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Node Monitoring
              </div>
            </div>
          </a>
        
        
          
          <a href="../../api/http/" class="md-footer__link md-footer__link--next" aria-label="Next: HTTP API">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                HTTP API
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <!--div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div-->
</footer>
                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.footer", "toc.integrate", "search.highlight", "search.suggest", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../javascripts/toc.js"></script>
      
        <script src="../../javascripts/nav-toc.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>